<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Server Error - Alumni Association</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      .error-container {
        min-height: 80vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 2rem;
      }
      
      .error-code {
        font-size: 8rem;
        font-weight: bold;
        color: #e74c3c;
        margin: 0;
        line-height: 1;
        animation: pulse 2s infinite;
      }
      
      .error-title {
        font-size: 2.5rem;
        color: var(--foreground);
        margin: 1rem 0;
        font-weight: 700;
      }
      
      .error-message {
        font-size: 1.2rem;
        color: #666;
        margin-bottom: 2rem;
        max-width: 600px;
        line-height: 1.6;
      }
      
      .error-actions {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 3rem;
      }
      
      .btn {
        padding: 1rem 2rem;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .btn-primary {
        background: var(--primary);
        color: white;
      }
      
      .btn-secondary {
        background: transparent;
        color: var(--primary);
        border: 2px solid var(--primary);
      }
      
      .btn-danger {
        background: #e74c3c;
        color: white;
      }
      
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      }
      
      .error-illustration {
        font-size: 4rem;
        margin-bottom: 2rem;
        opacity: 0.7;
      }
      
      .error-details {
        background: var(--card-bg);
        border: 2px solid #e74c3c;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 2rem 0;
        max-width: 600px;
        text-align: left;
      }
      
      .error-details h3 {
        color: #e74c3c;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .error-details p {
        color: var(--foreground);
        margin-bottom: 0.5rem;
      }
      
      .error-details code {
        background: #f8f9fa;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-family: 'Courier New', monospace;
        color: #e74c3c;
      }
      
      .status-check {
        background: var(--card-bg);
        border-radius: 10px;
        padding: 2rem;
        margin: 2rem 0;
        max-width: 600px;
        box-shadow: 0 5px 20px var(--card-shadow);
      }
      
      .status-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.8rem 0;
        border-bottom: 1px solid var(--input-border);
      }
      
      .status-item:last-child {
        border-bottom: none;
      }
      
      .status-label {
        font-weight: 600;
        color: var(--foreground);
      }
      
      .status-indicator {
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 600;
      }
      
      .status-checking {
        background: #ffeaa7;
        color: #fdcb6e;
      }
      
      .status-online {
        background: #00b894;
        color: white;
      }
      
      .status-offline {
        background: #e74c3c;
        color: white;
      }
      
      .contact-support {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 2rem 0;
        max-width: 600px;
      }
      
      .contact-support h3 {
        color: var(--primary);
        margin-bottom: 1rem;
      }
      
      .contact-info {
        display: grid;
        gap: 1rem;
        margin-top: 1rem;
      }
      
      .contact-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--foreground);
      }
      
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }
      
      @media (max-width: 768px) {
        .error-code {
          font-size: 6rem;
        }
        
        .error-title {
          font-size: 2rem;
        }
        
        .error-actions {
          flex-direction: column;
          align-items: center;
        }
        
        .btn {
          width: 100%;
          max-width: 300px;
          justify-content: center;
        }
        
        .status-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <nav>
        <ul>
          <li><a href="Alumni_home.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="members.html">Members</a></li>
          <li><a href="donation.html">Donations</a></li>
          <li><a href="jobportal.html">Job Postings</a></li>
          <li><a href="feedback.html">Feedback</a></li>
        </ul>
      </nav>
    </header>

    <main class="error-container">
      <div class="error-illustration">‚ö†Ô∏è</div>
      <h1 class="error-code">500</h1>
      <h2 class="error-title">Internal Server Error</h2>
      <p class="error-message">
        We're experiencing some technical difficulties on our end. 
        Our team has been notified and is working to resolve the issue. 
        Please try again in a few moments.
      </p>

      <div class="error-actions">
        <button onclick="location.reload()" class="btn btn-primary">
          üîÑ Try Again
        </button>
        <a href="Alumni_home.html" class="btn btn-secondary">
          üè† Go Home
        </a>
        <a href="feedback.html" class="btn btn-danger">
          üìû Report Issue
        </a>
      </div>

      <div class="error-details">
        <h3>‚öôÔ∏è What happened?</h3>
        <p><strong>Error Code:</strong> <code>HTTP 500</code></p>
        <p><strong>Time:</strong> <span id="errorTime"></span></p>
        <p><strong>Description:</strong> The server encountered an unexpected condition that prevented it from fulfilling the request.</p>
        <p><strong>Possible causes:</strong></p>
        <ul>
          <li>Temporary server overload</li>
          <li>Database connectivity issues</li>
          <li>Server maintenance in progress</li>
          <li>Configuration problems</li>
        </ul>
      </div>

      <div class="status-check">
        <h3 style="color: var(--primary); margin-bottom: 1.5rem; text-align: center;">üîç System Status Check</h3>
        <div class="status-item">
          <span class="status-label">Website Status</span>
          <span class="status-indicator status-checking" id="websiteStatus">Checking...</span>
        </div>
        <div class="status-item">
          <span class="status-label">Database Connection</span>
          <span class="status-indicator status-checking" id="databaseStatus">Checking...</span>
        </div>
        <div class="status-item">
          <span class="status-label">API Services</span>
          <span class="status-indicator status-checking" id="apiStatus">Checking...</span>
        </div>
        <div class="status-item">
          <span class="status-label">External Services</span>
          <span class="status-indicator status-checking" id="externalStatus">Checking...</span>
        </div>
      </div>

      <div class="contact-support">
        <h3>üÜò Need Immediate Help?</h3>
        <p>If this problem persists, please contact our technical support team:</p>
        <div class="contact-info">
          <div class="contact-item">
            <span>üìß</span>
            <span>Email: <strong>support@alumniacssociation.org</strong></span>
          </div>
          <div class="contact-item">
            <span>üìû</span>
            <span>Phone: <strong>+1 (555) 123-4567</strong></span>
          </div>
          <div class="contact-item">
            <span>üí¨</span>
            <span>Live Chat: Available 9 AM - 5 PM EST</span>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <p>&copy; 2024 Alumni Association. All rights reserved.</p>
    </footer>

    <script>
      // Set error time
      document.getElementById('errorTime').textContent = new Date().toLocaleString();

      // Simulate status checks
      function updateStatus(elementId, status, delay) {
        setTimeout(() => {
          const element = document.getElementById(elementId);
          element.className = `status-indicator status-${status}`;
          
          switch(status) {
            case 'online':
              element.textContent = 'Online';
              break;
            case 'offline':
              element.textContent = 'Offline';
              break;
            default:
              element.textContent = 'Unknown';
          }
        }, delay);
      }

      // Simulate checking various systems
      document.addEventListener('DOMContentLoaded', function() {
        // Simulate status checks with random results
        setTimeout(() => {
          updateStatus('websiteStatus', Math.random() > 0.3 ? 'online' : 'offline', 1000);
          updateStatus('databaseStatus', Math.random() > 0.5 ? 'offline' : 'online', 1500);
          updateStatus('apiStatus', Math.random() > 0.4 ? 'offline' : 'online', 2000);
          updateStatus('externalStatus', Math.random() > 0.6 ? 'online' : 'offline', 2500);
        }, 1000);

        // Add animation to elements
        const elements = document.querySelectorAll('.error-illustration, .error-code, .error-title, .error-message');
        
        elements.forEach((el, index) => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(20px)';
          
          setTimeout(() => {
            el.style.transition = 'all 0.6s ease';
            el.style.opacity = '1';
            el.style.transform = 'translateY(0)';
          }, index * 200);
        });

        // Auto-refresh attempt after 30 seconds
        let countdown = 30;
        const countdownElement = document.createElement('div');
        countdownElement.style.cssText = `
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: var(--primary);
          color: white;
          padding: 1rem;
          border-radius: 8px;
          font-weight: 600;
          z-index: 1000;
        `;
        
        const updateCountdown = () => {
          countdownElement.textContent = `Auto-refresh in ${countdown}s`;
          countdown--;
          
          if (countdown < 0) {
            location.reload();
          }
        };
        
        document.body.appendChild(countdownElement);
        updateCountdown();
        const countdownInterval = setInterval(updateCountdown, 1000);

        // Allow user to cancel auto-refresh
        countdownElement.addEventListener('click', () => {
          clearInterval(countdownInterval);
          countdownElement.remove();
        });
      });

      // Add retry functionality with exponential backoff
      let retryCount = 0;
      const maxRetries = 3;
      
      function retryWithBackoff() {
        if (retryCount >= maxRetries) {
          alert('Maximum retry attempts reached. Please contact support.');
          return;
        }
        
        retryCount++;
        const delay = Math.pow(2, retryCount) * 1000; // Exponential backoff
        
        const retryBtn = document.querySelector('.btn-primary');
        const originalText = retryBtn.textContent;
        retryBtn.textContent = `Retrying in ${delay/1000}s...`;
        retryBtn.disabled = true;
        
        setTimeout(() => {
          location.reload();
        }, delay);
      }
      
      // Override the default reload behavior for the retry button
      document.querySelector('.btn-primary').addEventListener('click', function(e) {
        e.preventDefault();
        retryWithBackoff();
      });
    </script>
    <script src="assets/js/theme-toggle.js"></script>
  </body>
</html>
